<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Data Mining 2</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../style/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../../style/codehilite/css/default.css" rel="stylesheet">
    <link href="../../../style/misc/css/module.css" rel="stylesheet">
    <link href="../../../style/misc/css/practical.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

	<script type="text/javascript"
	  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>

  </head>

<body>

	<!-- Fixed navbar -->
	<div class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			
			
	    	<div class="collapse navbar-collapse">

				<ul class="nav navbar-nav navbar-left">
					<!-- Moodle -->
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="https://moodle.wit.ie/course/view.php?id=192024" target="_blank"><img height="18pt" src="../../../style/misc/img/moodle_logo_on_blue.gif" /></a>
						</div>						
					</li>
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="https://moodle.wit.ie/course/view.php?id=192024" target="_blank"><img height="18pt" src="../../../style/misc/img/slack_logo.png" /></a>
						</div>						
					</li>
				</ul>

	      		<ul class="nav navbar-nav navbar-right">

					<!-- module home -->
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="../../../index.html"><span class="glyphicon glyphicon-home"></span></a>
						</div>						
					</li>
					
					<!-- topics -->
	        		<li>
						<div class="navbar-collapse collapse" id="b">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span class="glyphicon glyphicon-list-alt"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li class="dropdown-header">Topics</li>
										
										<li >
											<a href="../../../topics/01-Module_Introduction/index.html">Module Introduction</a>
										</li>
										
										<li >
											<a href="../../../topics/02-Feature_Engineering/index.html">Feature Engineering</a>
										</li>
										
										<li >
											<a href="../../../topics/03-Review_of_Model_Building/index.html">Review of Model Building</a>
										</li>
										
										<li >
											<a href="../../../topics/04-Hyperparameter_Tuning/index.html">Hyperparameter Tuning</a>
										</li>
										
										<li >
											<a href="../../../topics/05-Ensemble_Learning/index.html">Ensemble Learning</a>
										</li>
										
										<li >
											<a href="../../../topics/06-Time_Series_Mining/index.html">Time Series Mining</a>
										</li>
										
										<li >
											<a href="../../../topics/07-Text_Mining/index.html">Text Mining</a>
										</li>
										
										<li class="active">
											<a href="../../../topics/21-Assignments/index.html">Assignments</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li>

					<!-- resources -->
	        		<li>
						<div class="navbar-collapse collapse" id="b">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span class="glyphicon glyphicon-th-list"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li class="dropdown-header">Resources</li>
										
										<li >
											<a href="../../../topics/21-Assignments/index.html#01-NASA_Software_Defect_Datasets">NASA Software Defect Datasets</a>
										</li>
										
										<li >
											<a href="../../../topics/21-Assignments/index.html#02-Kaggle_Competition">Kaggle Competition</a>
										</li>
										
										<li class="active">
											<a href="../../../topics/21-Assignments/index.html#03-Texas_Inpatient_Discharge">Texas Inpatient Discharge</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li>
								
					<!-- pages-->
	        		<li>
						<div class="navbar-collapse collapse" id="c">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span>Input</span
									</a>
									<ul class="dropdown-menu" role="menu">
										
										<li >
											<a href="00-Outline.html">Outline</a>
										</li>
										
										<li class="active">
											<a href="01-Input.html">Input</a>
										</li>
										
										<li >
											<a href="02-EDA.html">EDA</a>
										</li>
										
										<li >
											<a href="03-Model.html">Model</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li> 
					
	        	</ul>
			</div>
		</div>
	</div>

	<!-- contents -->
	<div class="container">
		
		<ul class="pager">
			
			<li class="previous"><a href="00-Outline.html">&larr; Previous (Outline)</a></li>
			
			
			
			<li class="next"><a href="02-EDA.html">Next (EDA) &rarr;</a></li>
			
		</ul>
		
		<h1>Input</h1>
<h2>The dataset</h2>
<p>For our purposes the <a href="https://www.dshs.texas.gov/THCIC/Hospitals/Download.shtm">Texas Hospital Discharge Data Public Use Data File</a> consists of</p>
<ul>
<li>Patient Discharge dataset<ul>
<li>Individual records per patent, detailing <ul>
<li>Patient personal data -- gender, age, etc</li>
<li>Reason for admission to hospital</li>
<li>Treatment details -- take care of this as some </li>
<li>Billing information -- we will </li>
<li>and <code>LENGTH_OF_STAY</code></li>
</ul>
</li>
<li>Individual records are broken into two file <code>base1</code> and `base2' <ul>
<li>`basae1' is mainly non-billing --- we will use this</li>
<li><code>bases2</code> is focused on billing --- we will not use this.</li>
</ul>
</li>
<li>Split into training set (of 1,000,000 rows) and a test set (of 100,000 rows) </li>
</ul>
</li>
<li>Facility type by quarter<ul>
<li>The facility type might be useful in your classification. The data for each quarter are given but unless a facility's status changes the records in the different quarters should be identical.</li>
</ul>
</li>
<li>User Manual<ul>
<li>This manual is updated every quarter, but the changes are not significant so I have only linked to the user manual for one quarter.</li>
</ul>
</li>
<li>Comments<ul>
<li>For dataset for each quarter is accompanied by a comments document, aggregating the comments from each medical provider.  I have not linked to these documents --- have a look on the website if you wish -- as, I think, the detail in the User Manual is sufficient for your needs.</li>
</ul>
</li>
</ul>
<h2>Importing</h2>
<p>The notebook <a href="files/01-Import.ipynb">01-Import.ipynb</a> will create the usual subfolders and will download data/document if local copy is not found.  Note that when I load in the dataset I treat all columns as <code>str</code>. You could remove this option but I prefer to data as <code>str</code> and convert to <code>int</code> after replacing NA or to `float' on a column by column basis.  </p>
<h2>The target</h2>
<p>The <code>LENGTH_OF_STAY</code> stores the number of days a inpatient was in hospital. It is very skewed for example look at the 5-number summary</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">df</span><span class="o">.</span><span class="n">LENGTH_OF_STAY</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
<p>with output</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>count    999698.000000
mean          5.280482
std          11.420006
min           1.000000
25%           2.000000
50%           3.000000
75%           6.000000
max        1961.000000
Name: LENGTH_OF_STAY, dtype: float64
</code></pre></div>
</td></tr></table>
<p>Rather than trying to predict (a regression problem) we classify patents into three (roughly equal sized) class.  Create our required target column, <code>TARGET</code> based on <code>LENGTH_OF_STAY</code></p>
<ul>
<li><code>short</code> = <code>LENGTH_OF_STAY&lt;3</code> (~40% of cases)</li>
<li><code>medium</code> = <code>LENGTH_OF_STAY&gt;=3 and LENGTH_OF_STAY&lt;=6</code> (~30% of cases)</li>
<li><code>long</code> = <code>LENGTH_OF_STAY&gt;6</code> (~20% of cases)</li>
</ul>
<h2>Filtering Columns</h2>
<p>Our aim is to use only the information known on day 1 to predict length of stay.  So obviously you cannot use any columns which are populated after day 1. The billing column is one such column, but there are many others.  In terms of error effect, it is worse to include an invalid column than it is to include a valid column --- so PSA is "If in doubt leave it out". </p>
<h2>Filtering Rows</h2>
<p>Many rows have missing values and also have data makeed as invalid. Your options here are to filter out or the fix/encode in some way --- I would suggest you do this on a column by column basis.  Make sure to apply same steps to the grading dataset.</p>
		
		<ul class="pager">
			
			<li class="previous"><a href="00-Outline.html">&larr; Previous (Outline)</a></li>
			
			
			
			<li class="next"><a href="02-EDA.html">Next (EDA) &rarr;</a></li>
			
		</ul>

	</div>
	
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../../../style/bootstrap/js/bootstrap.min.js"></script>
	
  </body>
</html>